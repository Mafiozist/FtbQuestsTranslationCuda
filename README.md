# FtbQuestsTranslationCuda
# Скрипт для перевода текстов с использованием HuggingFace и MarianMT

Этот скрипт позволяет переводить текстовые файлы с помощью модели MarianMT от HuggingFace. Тексты из файлов переводятся с одного языка на другой с использованием GPU (если доступен) и выводится как исходный текст, так и переведенный.

## Необходимые зависимости

Для работы скрипта потребуется установить несколько библиотек. Ниже приведен список всех зависимостей.

### Установка зависимостей

1. Установите Python 3.12 (или более позднюю версию).
2. Создайте виртуальное окружение и активируйте его:

    ```bash
    python3 -m venv venv
    source venv/bin/activate  # Для Linux/MacOS
    venv\Scripts\activate     # Для Windows
    ```

3. Установите зависимости:

    ```bash
    pip install --upgrade pip
    pip install torch transformers tqdm
    ```

    В случае если у вас нет поддержки CUDA (GPU), установите версию PyTorch без CUDA:
    
    ```bash
    pip install torch==2.0.0+cpu
    ```

4. Установите дополнительную библиотеку для работы с моделью MarianMT:

    ```bash
    pip install sentencepiece
    ```

### Использование скрипта

1. Скачайте или клонируйте репозиторий с этим скриптом:

    ```bash
    git clone https://github.com/Mafiozist/FtbQuestsTranslationCuda.git
    cd FtbQuestsTranslationCuda
    ```

2. Запустите скрипт:

    ```bash
    python translate.py
    ```

3. Скрипт запросит путь к директории с файлами для перевода и целевой язык для перевода (например, `ru` для русского).

4. Скрипт будет поочередно обрабатывать все файлы в указанной директории, переводя текст в них, и выводить в консоль:
   - Исходный текст
   - Переведенный текст
   - Информацию о текущем файле и его прогрессе

5. Скрипт будет работать параллельно для всех файлов, используя многозадачность, и покажет прогресс в реальном времени.

### Пример:

Пример запроса в консоль:

```
Исходный текст: Hello, world!
Переведенный текст: Привет, мир!

Обработка файла: ./chapters/file1.txt
Текущий файл (1/3): ./chapters/file1.txt
Исходный текст: This is an example sentence.
Переведенный текст: Это пример предложения.
Прогресс завершен: 3/3 файлов обработано.
```
